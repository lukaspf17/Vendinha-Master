<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">

    <script src="https://code.jquery.com/jquery-3.6.1.js" integrity="sha256-3zlB5s2uwoUzrXK3BT7AX3FyvojsraNFxCc2vC/7pNI=" crossorigin="anonymous"></script>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.2.1/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-iYQeCzEYFbKjA/T2uDLTpkwGzCiq6soy8tYaI1GyVh/UjpbCx/TYkiZhlZB6+fzT" crossorigin="anonymous">
    <link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Material+Symbols+Outlined:opsz,wght,FILL,GRAD@20..48,100..700,0..1,-50..200" />
    <script src="https://igorescobar.github.io/jQuery-Mask-Plugin/js/jquery.mask.min.js"></script>    
      

    <link rel="stylesheet" href="./css/index.css">
    <link rel="stylesheet" href="./css/modal.css">
    <link rel="stylesheet" href="./css/modal-cadastro.css">
    <link rel="stylesheet" href="./css/modal-dividas.css">

    <script src="./javascript/cliente.js" defer></script>
    <script src="./javascript/divida.js" defer></script>
    <script src="./javascript/index.js" defer></script>
    <script src="./javascript/modal-cadastro.js" defer></script>  
    <script src="./javascript/modal-dividas.js" defer></script>
    <script src="./javascript/formatar-campos.js" defer></script>
    
    <title>Vendinha</title>
</head>
<body>
    <header>
        <nav>
            <span class="material-symbols-outlined icon" href="#">storefront</span>
            <button class="material-symbols-outlined icon hover-botoes" href="#" title="Cadastrar cliente"
                data-bs-target="#modal-cadastro-cliente" data-bs-toggle="modal">person_add</button>
        </nav>
    </header>

    <main>
        <!-- tabela -->
        <section>
            <div class="input-group mb-3 container-pesquisar">
                <div class="input-group-prepend">
                  <span class="input-group-text material-symbols-outlined" id="lbl-pesquisar">search</span>
                </div>
                <input id="pesquisar" type="text" class="form-control" placeholder="Digite um nome" aria-label="Username" aria-describedby="campo-pesquisar">
            </div>

            <table class="table">
                <thead>
                    <tr>
                        <th class="cabecalho-clientes" scope="col">ID</th>
                        <th class="cabecalho-clientes" scope="col">NOME</th>
                        <th class="cabecalho-clientes" scope="col">CPF</th>
                        <th class="cabecalho-clientes" scope="col">IDADE</th>
                        <th class="cabecalho-clientes" scope="col">TELEFONE</th>
                        <th class="cabecalho-clientes" scope="col">TOTAL DA DIVIDA</th>
                        <th class="cabecalho-clientes" scope="col"> </th>
                    </tr>
                </thead>
                <tbody id="conteudo-tabela-clientes">   
                </tbody>
            </table>

            <div id="footer-tabela">   
                <div id="footer-tabela-btn">
                    <button class="btn-pagina" onclick="voltarPag()"" title="Página anterior">Anterior</button>
                    <button class="btn-pagina" onclick="proximaPag()" title="Proxima página">Proximo</button>                     
                </div>                 
                <span id="legenda-paginacao"></span> 
            </div>
        </section>

        <!-- modal cadastro cliente -->
        <section id="modal-cadastro-cliente" class="modal fade" data-bs-backdrop="static" tabindex="-1">
            <div class="modal-dialog modal-lg">
                <div class="modal-content">
                    <div class="modal-header">
                        <button type="button" class="material-symbols-outlined btn-fechar" onclick="fecharModal()" title="Fechar cadastro">close</button>
                    </div>
                    
                    <form class="modal-body">
                        <div class="row row-campos">
                            <div class="col-8">
                                <div class="input-group input-group-sm mb-3">
                                    <div class="input-group-prepend">
                                        <label class="input-group-text" for="nome-cliente">Nome</label>
                                    </div>
                                    <input id="nome-cliente" type="text" class="form-control" onclick="limparAvisoCliente(this)"
                                        placeholder="digite o nome completo">
                                    <span id="texto-aviso-nome" class="validacao" hidden>
                                       <span class="material-symbols-outlined">warning</span> Campo nome é obrigatório </span>
                                </div>
                            </div>
                            <div class="col-4">
                                <div class="input-group input-group-sm mb-3">
                                    <div class="input-group-prepend">
                                        <label class="input-group-text" for="cpf-cliente">CPF</label>
                                    </div>
                                    <input id="cpf-cliente" type="text" class="form-control" onclick="limparAvisoCliente(this)"
                                        maxlength="14" placeholder="digite apenas números">
                                    <span id="texto-aviso-cpf" class="validacao" hidden>
                                        <span class="material-symbols-outlined">warning</span> CPF é obrigatório</span>
                                </div> 
                            </div>
                        </div>

                        <div class="row row-campos">
                            <div class="col-6">
                                <div class="input-group input-group-sm mb-3">
                                    <div class="input-group-prepend">
                                        <label class="input-group-text" for="nascimento-cliente">Nascimento</label>
                                    </div>
                                    <input id="nascimento-cliente" type="date" class="form-control" onclick="limparAvisoCliente(this)"
                                    min="1999-01-02" max="2000-12-31">
                                    <span id="texto-aviso-nascimento" class="validacao" hidden>
                                        <span class="material-symbols-outlined">warning</span> Data de nascimento é obrigatório</span>
                                </div> 
                            </div>
                            <div class="col-6">
                                <div class="input-group input-group-sm mb-3">
                                    <div class="input-group-prepend">
                                        <label class="input-group-text" for="telefone-cliente">Telefone</label>
                                    </div>
                                    <input id="telefone-cliente" type="text" class="form-control" 
                                        maxlength="15" placeholder="digite apenas números com o DDD">
                                </div> 
                            </div>
                        </div>
                        <div class="row row-campos">
                            <div class="col-12">
                                <div class="input-group input-group-sm mb-3">
                                    <div class="input-group-prepend">
                                        <label class="input-group-text" for="foto-cliente">URL foto</label>
                                    </div>
                                    <input id="foto-cliente" type="url" class="form-control" placeholder="digite a URL da imagem">
                                </div> 
                            </div>
                        </div>

                        <div id="container-divida">
                            <div class="row row-campos">
                                <div class="col-7">
                                    <div class="input-group input-group-sm mb-9">
                                        <div class="input-group-prepend">
                                            <label class="input-group-text" for="descricao-cliente">Descrição</label>
                                        </div>
                                        <input id="descricao-add-divida" type="text" class="form-control" onclick="limparAvisoCliente(this)" 
                                            placeholder="digite a descrição da divida">
                                        <span id="texto-aviso-descricao" class="validacao" hidden>
                                            <span class="material-symbols-outlined">warning</span> Descrição é obrigatório</span>
                                    </div> 
                                </div>
                                <div class="col-3">
                                    <div class="input-group input-group-sm mb-3">
                                        <div class="input-group-prepend">
                                            <label class="input-group-text" for="valor-cliente">R$</label>
                                        </div>
                                        <input id="valor-add-divida" type="text" maxlength="8" class="form-control" onclick="limparAvisoCliente(this)" 
                                            placeholder="digite o valor">
                                        <span id="texto-aviso-valor" class="validacao" hidden>
                                            <span class="material-symbols-outlined">warning</span> Valor é obrigatório</span>
                                    </div> 
                                </div>
                                <div class="col-2">
                                    <button id="btn-adiciona" class="material-symbols-outlined"
                                        onclick="addDividas()" title="Adicionar uma divida" type="button">add</button>                                 
                                </div>                                        
                            </div>
                    
                            <div class="row row-aviso-tabela">
                                <div class="col-12">
                                    <span id="texto-aviso-tabela" class="validacao" hidden>
                                        <span class="material-symbols-outlined">warning</span> Adicone ao menos uma divida</span> 
                                </div>
                            </div>

                            <div class="row row-tabela">
                                <div class="col-12">                             
                                    <table class="table">                                   
                                        <thead>
                                            <tr>
                                                <th class="cabecalho-add-dividas" scope="col">DESCRIÇÃO</th>
                                                <th class="cabecalho-add-dividas" scope="col">VALOR</th>
                                                <th class="cabecalho-add-dividas" scope="col"></th>
                                            </tr>
                                        </thead>
                                        <tbody id="conteudo-tabela-add-divida">   
                                        </tbody>
                                    </table>                             
                                </div>
                            </div>
                        </div>
                        <div class="container-btn">
                            <button id="btn-salva" class="btn-salvar" type="button" title="Salvar cadastro" onclick="validarCamposObrigatorios()">salvar</button>
                        </div>                    
                    </form>
                </div>
            </div>
        </section>

        <!--- modal dividas -->
        <section id="modal-gerenciar-dividas" class="modal fade" data-bs-backdrop="static" tabindex="-1">
            <div class="modal-dialog modal-lg">
                <div class="modal-content">
                    <div class="modal-header">
                        <button type="button" class="material-symbols-outlined btn-fechar" title="Fechar divida" onclick="fecharModal()">close</button>
                    </div>
                    <div class="modal-body">

                        <div class="perfil-cliente">
                            <img id="foto-perfil" src="" alt="">
                            <h4 id="nome-perfil">Nome</h4>
                        </div>
    
                        <form class="form-divida">
                            <div class="row row-campos">
                                <div class="col-7">
                                    <div class="input-group input-group-sm mb-9">
                                        <div class="input-group-prepend">
                                            <label class="input-group-text" for="descricao-cliente">Descrição</label>
                                        </div>
                                        <input id="descricao-divida" type="text" class="form-control" onclick="limparAvisoDivida(this)" 
                                            placeholder="digite a descrição da divida">
                                        <span id="texto-aviso-txtDescricao" class="validacao" hidden>
                                            <span class="material-symbols-outlined">warning</span> Descrição é obrigatório</span>
                                    </div> 
                                </div>
                                <div class="col-3">
                                    <div class="input-group input-group-sm mb-3">
                                        <div class="input-group-prepend">
                                            <label class="input-group-text" for="valor-cliente">R$</label>
                                        </div>
                                        <input id="valor-divida" type="text" maxlength="8" class="form-control" onclick="limparAvisoDivida(this)" 
                                            placeholder="digite o valor">
                                        <span id="texto-aviso-txtValor" class="validacao" hidden>
                                            <span class="material-symbols-outlined">warning</span> Valor é obrigatório</span>
                                    </div> 
                                </div>
                                <div class="col-2">
                                    <button id="btn-adiciona" class="material-symbols-outlined" title="Salvar cadastro ou edição da divida"
                                        onclick="cadastrarDivida()" type="button">add</button>                                 
                                </div>                                        
                            </div>
                        </form>

                        <table class="table">                                   
                            <thead>
                                <tr>
                                    <th class="cabecalho-dividas" scope="col">ID</th>
                                    <th class="cabecalho-dividas" scope="col">DESCRIÇÃO</th>
                                    <th class="cabecalho-dividas" scope="col">VALOR</th>
                                    <th class="cabecalho-dividas" scope="col">DATA COMPRA</th>
                                    <th class="cabecalho-dividas" scope="col"></th>
                                </tr>
                            </thead>
                            <tbody id="conteudo-tabela-dividas">   
                            </tbody>
                        </table> 

                        <div class="input-group input-group-sm mb-3">
                            <div class="input-group-prepend">
                                <label class="input-group-text" for="valor-total">Total</label>
                            </div>
                            <input id="valor-total" type="text" maxlength="8" disabled class="form-control">
                        </div> 
                    </div>
                </div>
            </div>
        </section>

    </main>

    <footer>
        &copy; Desafio Interfocus 2023 - Lucas Da Silva 
    </footer>

    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.2.1/dist/js/bootstrap.min.js" integrity="sha384-7VPbUDkoPSGFnVtYi0QogXtr74QeVeeIs99Qfg5YCF+TidwNdjvaKZX19NZ/e6oz" crossorigin="anonymous"></script>
    <script src="https://cdn.jsdelivr.net/npm/@popperjs/core@2.11.6/dist/umd/popper.min.js" integrity="sha384-oBqDVmMz9ATKxIep9tiCxS/Z9fNfEXiDAYTujMAeBAsjFuCZSmKbSSUnQlmh/jp3" crossorigin="anonymous"></script> 
</body>
</html>